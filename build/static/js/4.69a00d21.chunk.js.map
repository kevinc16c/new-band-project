{"version":3,"sources":["routes/inicio/Search.jsx","routes/inicio/index.js"],"names":["Search_Search","Search","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","handleSearch","onHandleSearch","state","query","handleKeyDown","evt","keyCode","_this2","react_default","a","createElement","Fragment","className","onKeyDown","onChange","e","setState","target","value","type","placeholder","onClick","Component","URL","inicio_Inicio","Inicio","inicio_classCallCheck","inicio_possibleConstructorReturn","inicio_getPrototypeOf","fetchBands","fetch","method","mode","cache","credentials","headers","Content-Type","then","response","json","data","db","list","bands","err","console","log","handleOnSearch","pageSize","filter","item","index","name","toUpperCase","includes","handlePagination","displayDropdown","current","record","albums","bandId","id","genre","find","code","genreCode","style","marginTop","class","viewDetail","year","country","members","map","member","key","album","_this3","scope","data-bs-toggle","aria-expanded","aria-labelledby","display","details"],"mappings":"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","file":"static/js/4.69a00d21.chunk.js","sourcesContent":["import React from 'react';\r\nexport default class Search extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      query: ''\r\n    }\r\n  }\r\n  handleSearch = () => {\r\n    this.props.onHandleSearch(this.state.query)\r\n  }\r\n  handleKeyDown = (evt) => {\r\n    if (evt.keyCode === 13) {\r\n      this.handleSearch(this.state.query)\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"col-10\">\r\n          <input\r\n            onKeyDown={this.handleKeyDown}\r\n            onChange={(e) => this.setState({ query: e.target.value })}\r\n            className=\"form-control\"\r\n            type=\"text\"\r\n            placeholder=\"Search Bands\"\r\n          />\r\n        </div>\r\n        <div className=\"col-2\">\r\n          <button className=\"btn btn-outline-success\" onClick={this.handleSearch}>Search</button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n};\r\n","import React from 'react';\r\nimport Search from './Search.jsx';\r\nimport './styles.scss'\r\nconst URL = 'https://my-json-server.typicode.com/improvein/dev-challenge/db';\r\n\r\nexport default class Inicio extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlist: [],\r\n\t\t\tdisplayDropdown: false,\r\n\t\t\tcurrent: 1,\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.fetchBands();\r\n\t}\r\n\tfetchBands = (value) => {\r\n\t\ttry {\r\n\t\t\tfetch(`${URL}`, {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tmode: 'cors',\r\n\t\t\t\tcache: 'no-cache',\r\n\t\t\t\tcredentials: 'same-origin',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\t.then(response => response.json())\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdb: data,\r\n\t\t\t\t\t\tlist: data.bands,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t}\r\n\t}\r\n\r\n\thandleOnSearch = (value) => {\r\n\t\tlet bands = this.state.db.bands\r\n\t\tlet pageSize = this.state.pageSize || 50\r\n\t\tif (value === \"\") return this.setState({ list: bands })\r\n\t\tbands = bands.filter((item, index) => item.name.toUpperCase().includes(value.toUpperCase()) && index < pageSize)\r\n\t\treturn this.setState({ list: bands })\r\n\t}\r\n\r\n\thandlePagination = (pageSize) => {\r\n\t\tlet bands = this.state.db.bands\r\n\t\tbands = bands.filter((item, index) => index < pageSize)\r\n\t\treturn this.setState({ pageSize, list: bands, displayDropdown: false })\r\n\t}\r\n\r\n\tdetails() {\r\n\t\tconst record = this.state.record\r\n\t\tconst albums = this.state.db.albums.filter(item => item.bandId === record.id)\r\n\t\tconst genre = this.state.db.genre.find(item => item.code === record.genreCode)\r\n\t\treturn (\r\n\t\t\t<div className=\"col-7\" style={{ marginTop: 10 }}>\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-10\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"media-heading\">{record.name}</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark\" onClick={() => this.setState({ viewDetail: false, record: false })}>Close</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t<span>Formed in {record.year} - {record.country}</span>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<span>Genre: {genre.name}</span>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<u>Members:</u> <br />\r\n\t\t\t\t\t\t\t\t{record.members.map((member, index) => (\r\n\t\t\t\t\t\t\t\t\t<li key={index}>{member.name}</li>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<u>Albums:</u> <br />\r\n\t\t\t\t\t\t\t\t{albums.map((album, index) => (\r\n\t\t\t\t\t\t\t\t\t<li key={index}>{album.year} - {album.name}</li>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"container-fluid mt-10\">\r\n\t\t\t\t\t<div className=\"row\" style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tonHandleSearch={this.handleOnSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">#</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Create on</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Country</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.state.list && this.state.list.map((record, key) => (\r\n\t\t\t\t\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">{record.id}</th>\r\n\t\t\t\t\t\t\t\t\t\t<td>{record.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{record.year}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{record.country}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><span className=\"view-more\" onClick={() => this.setState({ viewDetail: true, record })}>View more</span></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"true\" onClick={() => this.setState({ displayDropdown: !this.state.displayDropdown })}>\r\n\t\t\t\t\t\t\t\t\t\tDropdown button\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\" style={{ display: this.state.displayDropdown ? 'block' : 'none' }}>\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"dropdown-item\" onClick={(e) => this.handlePagination(5)}>5</li>\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"dropdown-item\" onClick={(e) => this.handlePagination(10)}>10</li>\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"dropdown-item\" onClick={(e) => this.handlePagination(25)}>25</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t{this.state.viewDetail &&\r\n\t\t\t\t\t\t\t\tthis.details()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\n"],"sourceRoot":""}