(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{56:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a);function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var u=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,s(t).call(this,e))).handleSearch=function(){n.props.onHandleSearch(n.state.query)},n.handleKeyDown=function(e){13===e.keyCode&&n.handleSearch(n.state.query)},n.state={query:""},n}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-10"},r.a.createElement("input",{onKeyDown:this.handleKeyDown,onChange:function(t){return e.setState({query:t.target.value})},className:"form-control",type:"text",placeholder:"Search Bands"})),r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{className:"btn btn-outline-success",onClick:this.handleSearch},"Search")))}}])&&c(n.prototype,a),o&&c(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");l(e.prototype,t&&t.prototype),t&&l(e,t)}(t,e),t}(r.a.Component);n(67);function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.getPrototypeOf||function(e){return e.__proto__})(e)}n.d(t,"default",function(){return b});var h="https://my-json-server.typicode.com/improvein/dev-challenge/db",b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,y(t).call(this,e))).fetchBands=function(e){try{fetch("".concat(h),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){n.setState({db:e,list:e.bands})})}catch(e){console.log(e)}},n.handleOnSearch=function(e){var t=n.state.db.bands,a=n.state.pageSize||50;return""===e?n.setState({list:t}):(t=t.filter(function(t,n){return t.name.toUpperCase().includes(e.toUpperCase())&&n<a}),n.setState({list:t}))},n.handlePagination=function(e){var t=n.state.db.bands;return t=t.filter(function(t,n){return n<e}),n.setState({pageSize:e,list:t,displayDropdown:!1})},n.state={list:[],displayDropdown:!1,current:1},n}var n,a,o;return n=t,(a=[{key:"componentDidMount",value:function(){this.fetchBands()}},{key:"details",value:function(){var e=this,t=this.state.record,n=this.state.db.albums.filter(function(e){return e.bandId===t.id}),a=this.state.db.genre.find(function(e){return e.code===t.genreCode});return r.a.createElement("div",{className:"col-7",style:{marginTop:10}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10"},r.a.createElement("h4",{className:"media-heading"},t.name)),r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{type:"button",class:"btn btn-outline-dark",onClick:function(){return e.setState({viewDetail:!1,record:!1})}},"Close")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("span",null,"Formed in ",t.year," - ",t.country),r.a.createElement("br",null),r.a.createElement("span",null,"Genre: ",a.name),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("u",null,"Members:")," ",r.a.createElement("br",null),t.members.map(function(e,t){return r.a.createElement("li",{key:t},e.name)})),r.a.createElement("div",{className:"col-6"},r.a.createElement("u",null,"Albums:")," ",r.a.createElement("br",null),n.map(function(e,t){return r.a.createElement("li",{key:t},e.year," - ",e.name)}))))))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid mt-10"},r.a.createElement("div",{className:"row",style:{marginTop:10}},r.a.createElement(u,{onHandleSearch:this.handleOnSearch})),r.a.createElement("div",{className:"row"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Create on"),r.a.createElement("th",{scope:"col"},"Country"))),r.a.createElement("tbody",null,this.state.list&&this.state.list.map(function(t,n){return r.a.createElement("tr",{key:n},r.a.createElement("th",{scope:"row"},t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.year),r.a.createElement("td",null,t.country),r.a.createElement("td",null,r.a.createElement("span",{className:"view-more",onClick:function(){return e.setState({viewDetail:!0,record:t})}},"View more")))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"true",onClick:function(){return e.setState({displayDropdown:!e.state.displayDropdown})}},"Dropdown button"),r.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",style:{display:this.state.displayDropdown?"block":"none"}},r.a.createElement("li",{className:"dropdown-item",onClick:function(t){return e.handlePagination(5)}},"5"),r.a.createElement("li",{className:"dropdown-item",onClick:function(t){return e.handlePagination(10)}},"10"),r.a.createElement("li",{className:"dropdown-item",onClick:function(t){return e.handlePagination(25)}},"25"))))),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},this.state.viewDetail&&this.details()))))}}])&&f(n.prototype,a),o&&f(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");d(e.prototype,t&&t.prototype),t&&d(e,t)}(t,e),t}(r.a.Component)},67:function(e,t,n){}}]);
//# sourceMappingURL=4.69a00d21.chunk.js.map